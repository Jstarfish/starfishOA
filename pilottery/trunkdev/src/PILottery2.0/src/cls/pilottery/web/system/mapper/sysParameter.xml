<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cls.pilottery.web.system.dao.SysParameterDao">
	<resultMap type="cls.pilottery.web.system.model.SysParameter" id="sysParameter">
		<result column="SYS_DEFAULT_SEQ" property="id" />
		<result column="SYS_DEFAULT_DESC" property="desc" />
		<result column="SYS_DEFAULT_VALUE" property="value" />
	</resultMap>

	<select id="getSysParameterCount" parameterType="cls.pilottery.web.system.model.SysParameter"
		resultType="Integer">
		select count(1) from SYS_PARAMETER s where 1=1
	</select>

	<select id="getParameterList" parameterType="cls.pilottery.web.system.model.SysParameter"
		resultMap="sysParameter">
		select * from (
		select a.*,rownum rn from (
		select * from SYS_PARAMETER s
		where 1=1
	<![CDATA[ order by s.SYS_DEFAULT_SEQ) a ) where rn > ${beginNum} and rn <= ${endNum} ]]>
	</select>
	
	<select id="getParameterDeatil" parameterType="long" resultMap="sysParameter">
		select * from SYS_PARAMETER where SYS_DEFAULT_SEQ = #{id}
	</select>
	
	<update id="updateSysParameter">
		update SYS_PARAMETER s set s.SYS_DEFAULT_VALUE=#{value} where s.SYS_DEFAULT_SEQ=#{id}
	</update>

</mapper>
