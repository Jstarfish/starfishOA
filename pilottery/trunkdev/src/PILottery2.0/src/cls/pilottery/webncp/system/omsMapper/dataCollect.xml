<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cls.pilottery.webncp.system.dao.oms.DataCollectDao">

	<select id="getLogByTermCode" parameterType="cls.pilottery.webncp.system.model.Request9001Model"
		resultType="cls.pilottery.webncp.system.model.Response9001Model">
		select SYS_CLOG_SEQ as reqSeq,
			   SYS_CLOG_APPLY_TYPE as reqLogType,
			   SYS_CLOG_APPLY_ARG1 as reqPara1
		from SYS_CLOG_INFO where TERMINAL_CODE = #{terminal_code}
		and SYS_CLOG_APPLY_STATUS = 1 order by SYS_CLOG_APPLY_TIME
	</select>

	<update id="updateLogStatus" parameterType="cls.pilottery.webncp.system.model.Request9002Model">
		UPDATE SYS_CLOG_INFO SET
			   SYS_CLOG_APPLY_STATUS=#{apply_status},
		       SYS_CLOG_SUCC_TIME=sysdate,
			   SYS_CLOG_UPLOAD_FILE=#{fileName}
		where SYS_CLOG_SEQ = #{reqSeq}
	</update>
</mapper>
