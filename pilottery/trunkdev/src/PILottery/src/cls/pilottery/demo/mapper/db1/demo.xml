<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cls.pilottery.demo.dao.db1.DemoDao">
    <resultMap type="cls.pilottery.demo.model.User" id="user">
		<id column="ADMIN_ID" property="id" />
		<result column="ADMIN_REALNAME" property="realname" />
		<result column="ADMIN_ACCOUNT" property="account"/>
		<result column="ADMIN_PASSWORD" property="password" />
		<result column="ADMIN_ACTIVE" property="active" />
		<result column="ADMIN_EMAIL" property="email" />
		<result column="ADMIN_BIRTHDAY" property="birthday" />
		<result column="ADMIN_GENDER" property="gender" />
		<result column="ADMIN_TEL" property="tel"/>
		<result column="ADMIN_FAX" property="fax" />
		<result column="ADMIN_ADDRESS" property="address" />
		<result column="ADMIN_LOGIN_TIME" property="loginTime" />
		<result column="area_code" property="areaCode" />
	    <result column="LOGIN_STATUS" property="loginStatus" />
	</resultMap>
	
    <select id="getUserCount" parameterType="cls.pilottery.demo.form.DemoForm" resultType="Integer">
		select count(1) from ADM_INFO i where 1=1
		<if test="userName != null and userName != ''">
		 	and i.ADMIN_ACCOUNT = #{userName}
		</if>
		and i.ADMIN_ACTIVE!=3
	</select>
    	
	<select id="getUserList" parameterType="cls.pilottery.demo.form.DemoForm" resultMap="user">
		select * from (
		select a.*,rownum rn from (
		select * from ADM_INFO  i where 1=1
		<if test="userName != null and userName != ''">
		 	and i.ADMIN_ACCOUNT = #{userName}
		</if>
		and i.ADMIN_ACTIVE!=3
	<![CDATA[ order by i.ADMIN_ID) a ) where rn > ${beginNum} and rn <= ${endNum} ]]>
	</select>
	
	<select id="getUserById" parameterType="String" resultMap="user">
		select * from ADM_INFO where ADMIN_ID = #{userId}
	</select>
	
    
</mapper>
