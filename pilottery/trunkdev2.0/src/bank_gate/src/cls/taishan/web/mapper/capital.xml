<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cls.taishan.web.dao.AccountDao">
	
	<select id="getAccountList" resultType="cls.taishan.web.model.Account">
		select user_id userId,
		       currency currency,
		       digital_acc_type accountType,
		       acc_status accountStatus,
		       acc_no accountNo,
		       bill_code billCode,
		       username userName,
		       password password,
		       account_balance accountBalance,
		       update_time updateTime
		  from INF_EUSER_ACCOUNT
	</select>
	
	<select id="getTradeRecordList" resultType="cls.taishan.web.model.TradeRecord" parameterType="cls.taishan.web.model.TradeRecord">
		select e_trade_flow     tradeFlow,
		       user_id          userId,
		       acc_no           accNo,
		       trade_type       tradeType,
		       trade_status     tradeStatus,
		       restful_status   restfulStatus,
		       currency,
		       euser_trade_flow euserTradeFlow,
		       amount,
		       customer_account customerAccount,
		       customer_pass    customerPass,
		       fee,
		       total_amount     totalAmount,
		       exchange_context context,
		       STATUS          isSucc,
		       balance,
		       wing_trans_id    tradeId,
		       start_time       startTime,
		       end_time         endTime,
		       customer_name
		  from TRD_WING_RECORD
		  where 1=1
		  <if test="tradeType != null and tradeType != ''">
		  	and trade_type=#{tradeType}
		  </if>
		  <if test="accNo != null and accNo != ''">
		  	and acc_no=#{accNo}
		  </if>
		  <if test="tradeFlow != null and tradeFlow != ''">
		  	and e_trade_flow=#{tradeFlow}
		  </if>
		  <if test="tradeStatus != null and tradeStatus != ''">
		  	and trade_status=#{tradeStatus}
		  </if>
		   <if test="startDate !=null and startDate != ''">
		 	and to_char(start_time, 'yyyy-mm-dd') between #{startDate} and #{endDate}
		 </if>
	</select>
</mapper>
