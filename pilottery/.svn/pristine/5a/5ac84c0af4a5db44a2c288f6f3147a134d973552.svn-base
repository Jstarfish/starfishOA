<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cls.pilottery.pos.system.dao.BasicDataManageDao">

	<select id="getOutletsInfoList" resultType="cls.pilottery.pos.system.model.OutletInfoResponse" parameterType="long">
		SELECT AGENCY_CODE outletCode,
		       AGENCY_NAME outletName,
		       TELEPHONE contactPhone,
		       CONTACT_PERSON contactPerson
		  FROM INF_AGENCYS
		 WHERE status != 3 AND MARKET_MANAGER_ID = #{id}
	</select>
	
	<select id="getWareHouseInfo" resultType="cls.pilottery.pos.system.model.WareHouseInfo" parameterType="string">
		SELECT WAREHOUSE_CODE,
		       WAREHOUSE_NAME,
		       ORG_NAME,
		       WH_INFO.PHONE
		  FROM WH_INFO
		       JOIN INF_ORGS
		          USING (ORG_CODE)
		       JOIN WH_MANAGER
		          USING (WAREHOUSE_CODE)
		       JOIN adm_info
		          ON (MANAGER_ID = admin_id)
		 WHERE admin_login = #{_parameter}
	</select>
	
	<select id="getBatchByPlan" resultType="cls.pilottery.pos.system.model.BatchInfo" parameterType="string">
		SELECT BATCH_NO batchNo,
		       BOXES_EVERY_TRUNK boxesEveryTrunk,
		       PACKS_EVERY_TRUNK packsEvenyTrunk,
		       TICKETS_EVERY_PACK ticketsEveryPack
		  FROM GAME_BATCH_IMPORT_DETAIL
		 WHERE plan_code = #{_parameter} AND status != 3
	</select>

</mapper>
