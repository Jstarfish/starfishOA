#ifndef INM_MESSAGE_AP_H_INCLUDED
#define INM_MESSAGE_AP_H_INCLUDED


//指定按1字节对齐
#pragma pack (1)

typedef struct _INM_MSG_AP_HEADER
{
    INM_MSG_HEADER   inm_header;

    uint64 token;
    uint32 sequence;//通信序列号

    char    data[];
}INM_MSG_AP_HEADER;
#define INM_MSG_AP_HEADER_LEN sizeof(INM_MSG_AP_HEADER)

typedef struct _INM_MSG_AP_PAY_TICKET
{
    INM_MSG_AP_HEADER  header;

    uint8    flag;  // 0: long tsn    1: short digit tsn

    char     reqfn_ticket_pay[TSN_LENGTH];   //兑奖交易请求流水号
    char     rspfn_ticket_pay[TSN_LENGTH];   //兑奖交易响应流水号
    char     rspfn_ticket_sell[TSN_LENGTH];  //销售交易响应流水号
    uint64   unique_tsn;
    uint64   unique_tsn_pay;

    uint8    game_code;                     //游戏编码
    uint64   issue;
    money_t  ticketAmount;
    money_t  winningAmountWithTax;          //中奖金额(税前)
    money_t  taxAmount;                     //税金
    money_t  winningAmount;                 //中奖金额税后

    uint32   winningCount;                  //中奖总注数
    money_t  hd_winning;                    //高等奖兑奖金额
    uint32   hd_count;                      //高等奖兑奖注数
    money_t  ld_winning;                    //低等奖兑奖金额
    uint32   ld_count;                      //低等奖兑奖注数
    uint8    isBigWin;

    uint32   area_code;                     //中心兑奖区域编码
    uint64   agency_code;                   //站点编码

}INM_MSG_AP_PAY_TICKET;



//取消指定对齐，恢复缺省对齐
#pragma pack ()



#endif //INM_MESSAGE_NCP_H_INCLUDED

